# p44_Wildcard Matching

###### tags: `LeetCode` `Hard`

## é¡Œç›®
[åŽŸé¡Œç›®é€£çµ](https://leetcode.com/problems/wildcard-matching/)

çµ¦ä½ ä¸€å€‹å­—ä¸²(s)å’Œæ­£è¦è¡¨é”(p\)ï¼Œè«‹æ±‚å‡ºsæ˜¯å¦æ»¿è¶³pçš„è¡¨é”å¼?

pæœƒåŒ…å«å…©ç¨®ç¬¦è™Ÿï¼š
* `*`ï¼šè¬ç”¨å­—å…ƒï¼Œå¯ä»¥è¡¨é”ä»»æ„é †åºã€é•·åº¦çš„å­—ä¸²ã€‚
* `?`ï¼šå¯ä»¥è¡¨é”ä»»æ„**ä¸€å€‹**å­—å…ƒã€‚

## è§£é¡Œ
çœ‹åˆ°é€™é¡Œå°±è®“æˆ‘æƒ³èµ· [p010_Regular Expression Matching](https://github.com/AndyChiangSH/LeetCode/tree/master/Problem/p010_RegularExpressionMatching)ï¼Œæ‰€ä»¥é¦–å…ˆå˜—è©¦ä½¿ç”¨å‹•æ…‹è¦åŠƒã€‚

### DP
é€™é¡Œä¹Ÿæ˜¯å»ºç«‹ä¸€å€‹(M+1)\*(N+1)çš„äºŒç¶­é™£åˆ—dpï¼Œé™£åˆ—`dp[i][j]`ä»£è¡¨`s[0:i]`å­å­—ä¸²æ˜¯å¦æ»¿è¶³`t[0:j]`å­å­—ä¸²ã€‚(Mç‚ºsé•·åº¦ï¼ŒNç‚ºpé•·åº¦)

ä¸éŽé€™é¡Œè¦å‰‡æ¯”ç¬¬åé¡Œå¥½æ‰¾å¾ˆå¤šï¼Œå¤§è‡´èªªæ˜Žå¦‚ä¸‹ï¼Œæˆ‘èˆ‰`s="abc"`ï¼Œ`p="a?c*"`ç‚ºä¾‹ï¼Œç­”æ¡ˆç‚ºTrueï¼š
* `dp[0][0]`ä¸€å®šç‚ºTï¼Œå› ç‚ºç©ºæ­£è¦å¼æ»¿è¶³ç©ºå­—ä¸²ã€‚
* å…ˆæŽƒç¬¬ä¸€åˆ—ï¼Œå¦‚æžœè®€åˆ°`*`ä»¥å¤–çš„å­—å…ƒï¼Œå‰‡å¾Œé¢çš„éƒ½ç‚ºFã€‚å› ç‚ºåªæœ‰`*`å¯ä»¥æ»¿è¶³ç©ºå­—ä¸²ï¼Œå…¶ä»–çš„éƒ½ä¸è¡Œã€‚
* ç¬¬ä¸€æ¬„ä¹Ÿéƒ½æ˜¯Fï¼Œå› ç‚ºç©ºæ­£è¦å¼ä¸å¯èƒ½æ»¿è¶³ä»»ä½•å­—ä¸²(é™¤äº†ç©ºå­—ä¸²)ã€‚

![](https://i.imgur.com/f0bkTwl.jpg)

* (#1) **å…¶é¤˜çš„å¦‚æžœ`p[i] == s[j]`**ï¼Œå‰‡`dp[i][j]`ç­‰æ–¼`dp[i-1][j-1]`(å·¦ä¸Šè§’)çš„å€¼ã€‚

çœ‹ä¸‹é¢ä¾‹å­ï¼Œå‡å¦‚på’Œsä¸åŠ ä¸Šaæ˜¯Tçš„è©±ï¼Œé‚£å› ç‚ºpå’Œséƒ½ä¸€æ¨£æ˜¯aï¼ŒåŠ ä¸Šaä¹‹å¾Œä¸€æ¨£æ˜¯Tã€‚

![](https://i.imgur.com/BRDbtGM.jpg)

* (#2) **å¦‚æžœ`p[i] == '?'`**ï¼Œå‰‡`dp[i][j]`ç­‰æ–¼`dp[i-1][j-1]`(å·¦ä¸Šè§’)çš„å€¼ã€‚

å› ç‚º`?`å¯ä»¥ä»£è¡¨ä»»æ„å­—å…ƒï¼Œæ‰€ä»¥ç†ç”±è·Ÿ(#1)æ˜¯ä¸€æ¨£çš„ã€‚

![](https://i.imgur.com/4yb39NB.jpg)

* (#3) **å¦‚æžœ`p[i] == '*'`**ï¼Œå‰‡`dp[i][j]`ç­‰æ–¼`dp[i-1][j]`(ä¸Š) **||** `dp[i][j-1]`(å·¦)çš„å€¼ã€‚

å› ç‚º`*`å¯ä»¥ä»£è¡¨ç©ºå­—ä¸²æˆ–ä»»æ„å­—ä¸²ï¼Œ**å¦‚æžœå¾žå·¦é‚Šä¾†çš„ä»£è¡¨`*`ä½œç‚ºç©ºå­—ä¸²ä½¿ç”¨ï¼Œä¾†è‡ªä¸Šé¢ä»£è¡¨`*`ä½œç‚ºä»»æ„å­—ä¸²ä½¿ç”¨**ã€‚

![](https://i.imgur.com/7XI5k7Z.jpg)

* (#4) éžä»¥ä¸Šæ¢ä»¶å°±æ˜¯Fã€‚

éžä»¥ä¸Šæ¢ä»¶è¡¨ç¤º`p[i] != s[j]`ï¼Œå› ç‚ºæœ€å¾Œä¸€å€‹å­—æ¯ä¸ç›¸åŒï¼Œså’Œpä¸å¯èƒ½ç¬¦åˆã€‚

é‚„æ˜¯ä¸æ‡‚å¯ä»¥æƒ³æƒ³çœ‹`*a`å’Œ`*b`æœ‰å¯èƒ½ç›¸ç¬¦å—Ž?

æœ€å¾Œ`dp[M][N]`å³ç‚ºç­”æ¡ˆã€‚

#### â³ æ™‚é–“è¤‡é›œåº¦ï¼šO(M\*N)
#### ðŸ’¾ ç©ºé–“è¤‡é›œåº¦ï¼šO(M\*N)
M = s.length(), N = p.length()

### Greedy
å¾Œä¾†çœ‹Discussç™¼ç¾ï¼Œé€™é¡Œå…¶å¯¦ä¸ç”¨å‹•æ…‹è¦åŠƒé€™éº¼éº»ç…©ï¼Œä¸»è¦åŽŸå› æ˜¯å› ç‚º`*`å¯ä»¥ä»£è¡¨**ä»»æ„é †åºçš„å­—ä¸²**ï¼Œå› æ­¤ä½¿ç”¨è²ªå©ªæ³•å°±æ˜¯æ­£ç¢ºè§£äº†ã€‚

ä½œæ³•å¤§æ¦‚æ˜¯é€™æ¨£ï¼š
* å…©å€‹é»žiã€jåˆ†åˆ¥èµ°åœ¨så’Œpä¸Šã€‚
* starç´€éŒ„æœ€å¾Œä¸€å€‹`*`æ‰€åœ¨ä½ç½®ã€‚
* last_matchç´€éŒ„æœ€é•·æ»¿è¶³æ¢ä»¶çš„å­—ä¸²é•·åº¦ã€‚
* å¦‚æžœ`p[i] == s[j]`æˆ–`p[i] == '?'`å‰‡i++ã€j++ã€‚
* å¦‚æžœ`p[i] == '*'`ï¼Œå‰‡æ›´æ–°starå’Œlast_matchã€‚
* å…¶ä»–æƒ…æ³å‰‡jå›žåˆ°star+1çš„ä½ç½®ï¼Œiå’Œlast_matchå‘å‰ç§»å‹•ä¸€æ ¼ã€‚
* æœ€å¾Œæª¢æŸ¥pæ˜¯å¦æœ‰è¢«æ•´å€‹è·‘éŽ(j == N)ï¼Œå°±æ˜¯ç­”æ¡ˆäº†ã€‚

é€™ä½œæ³•é¡žä¼¼DFSåè¦†æ¸¬è©¦æ˜¯å¦æ­£ç¢ºï¼Œä½†å·®åˆ¥åœ¨æ–¼å› ç‚º`*`å¯ä»¥ä»£è¡¨**ä»»æ„é †åºçš„å­—ä¸²**ï¼Œå› æ­¤åªéœ€è¦ç´€éŒ„æœ€å¾Œ`*`çš„ä½ç½®å°±å¥½ï¼Œå› ç‚ºä¸ç®¡æ€Žæ¨£éƒ½åªå’Œæœ€å¾Œä¸€å€‹æœ‰é—œã€‚

æˆ‘ä»¥`p="a*b*c"`ç‚ºä¾‹ï¼Œå¯ä»¥æ»¿è¶³çš„ s æœ‰(ä½¿ç”¨ç©ºç™½å€åˆ†æ¯ä¸€å€‹ç¬¦è™Ÿï¼Œ"_"è¡¨ç¤ºç©ºå­—ä¸²)ã€‚
```
p = a *  b *  c 
s = a _  b bb c
s = a b  b b  c
s = a bb b _  c
```

å¾—çŸ¥äº†å‰é¢çš„`*`å…¶å¯¦æ€Žæ¨£éƒ½ç„¡æ‰€è¬‚ï¼Œåæ­£å¾Œé¢çš„`*`æœƒå°‡å¤šçš„éƒ¨ä»½çµ¦åƒæŽ‰ã€‚

#### â³ æ™‚é–“è¤‡é›œåº¦
* Best caseï¼šO(M+N)
* Worst caseï¼šO((M^2^)/2+N)
#### ðŸ’¾ ç©ºé–“è¤‡é›œåº¦ï¼šO(M+N)
M = s.length(), N = p.length()

## çµæžœ
### DP
> 07/27/2021 12:32	Accepted	27 ms	39.7 MB	java  
> â³ æ™‚é–“ï¼š44.57%  
> ðŸ’¾ ç©ºé–“ï¼š43.68%  

### Greedy
> 07/27/2021 22:16	Accepted	2 ms	39.1 MB	java  
> â³ æ™‚é–“ï¼š100.00%  
> ðŸ’¾ ç©ºé–“ï¼š89.57%  

## å¾Œè¨˜
æ²’æƒ³åˆ°æœ‰æ¯”DPæ›´å¿«çš„è§£æ³•ï¼ŒçœŸæ˜¯å¤§é–‹çœ¼ç•Œã€‚