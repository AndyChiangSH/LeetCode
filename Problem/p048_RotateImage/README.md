# p048_Rotate Image

###### tags: `LeetCode` `Medium`

## 題目
[原題目連結](https://leetcode.com/problems/rotate-image/)

給你一個二維矩陣，請你將矩陣**順時針轉90度**。

**此操作不可以花費額外空間!**

## 解題
基本上看到In-place，就跟交換脫離不了關係了，和[p041](https://hackmd.io/l4sMW7eOQVeGtKShYcktFA)是相同的概念，大致上有兩種解法：

### 先對角交換，再上下顛倒
先以45度角斜線( / )為軸心，交換兩邊對角的數字。然後再上下顛倒。

```
Before:
  1  2  3  /4
  5  6  /7  8
  9 /10 11 12
 /13 14 15 16

After rotate:
 16 12  8  4
 15 11  7  3
 14 10  6  2
 13  9  5  1

Done:
 13  9  5  1
 14 10  6  2
 15 11  7  3
 16 12  8  4
```

必須交換 N^2^/2 次，每次交換需要執行三個等於，總共是 **(3/2)*N^2^**。

### 四角輪轉法
很酷的想法，將對應的四個角順時針旋轉90度，只需要做左上角第二象限就好，交換的次數比上個方法少。

```
Before:
 *1  2  3 *4    // * 標記的地方代表對應的四個角
  5  6  7  8
  9 10 11 12
*13 14 15*16

*13  2  3 *1    // 旋轉90度
  5  6  7  8
  9 10 11 12
*16 14 15 *4

 13  9  3  1
  5  6  7  2
 15 10 11 12
 16 14  8  4

 13  9  5  1
 14  6  7  2
 15 10 11  3
 16 12  8  4

 13  9  5  1
 14 10  6  2
 15 11  7  3
 16 12  8  4

Done:
 13  9  5  1
 14 10  6  2
 15 11  7  3
 16 12  8  4
```

交換的次數簡單算 N^2^/4，每次交換需要執行五個等於，總共是 **(5/4)N^2^**。

因為 (5/4) < (3/2)，所以這個方法比較好一點。

### 後記
四角輪轉法在時間上比不出差異，但在記憶體部分就完勝了。

## 結果
> 先對角交換，再上下顛倒  
> 07/11/2021 01:00	Accepted	0 ms	39.2 MB	java  
> 時間：100.00% / 空間：31.96%

> 四角輪轉法
> 07/11/2021 01:23	Accepted	0 ms	38.9 MB	java
> 時間：100.00% / 空間：71.88%